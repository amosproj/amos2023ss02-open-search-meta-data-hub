{% extends 'base.html' %}

{% block content %}

<br>
<div class="dashboard-header">
  <h1>{% block title %}Visualizations{% endblock %}</h1>
  <button class="btn btn-info" id="openSidebarButton" onclick="openSidebar({{ iframe_data }})">Panels configuration</button>
  <!-- <button type="button" class="btn btn-primary" id="openSidebarButton" onclick="openSidebar()">Open Sidebar</button> -->

</div>
</button></td>

<div id="resultContainer">
{% for item in iframe_data|batch(2) %}
<div class="iframe-row">
  {% for iframe in item %}
  <div class="resizable-component draggable-iframe" draggable="true" ondragstart="drag(event)">
    <p class="iframe-name">{{ iframe.title }}</p>
    <iframe class="resizable-iframe" src="{{ iframe.iframe_code }}" frameborder="0"></iframe>
  </div>
  {% endfor %}
</div>
{% endfor %}
</div>
<style>


</style>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/interactjs@1.10.11"></script>
<script>

</script>

<br> </br>
<br> </br>

<div class="sidebar-container" id="sidebarContainer">
  <div class="sidebar-content">
    <div class="sidebar-header">
      <h5 class="sidebar-title" id="sidebarTitle"></h5>
    </div>
    <div class="sidebar-body" id="detailsTable">
      <!-- The JavaScript function will insert the details table here -->
      
    </div>
    <div class="sidebar-footer">
      <button class="btn btn-info" onclick="showCheckedCheckboxes({{ iframe_data }})">Save</button>
      <button class="btn btn-info" onclick="closeSidebar()">Close</button>
    </div>
  </div>
</div>


{% endblock %}
